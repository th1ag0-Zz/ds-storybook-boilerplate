warning="\033[1;33m‚ùØ"
approved="\033[1;32m‚úî"
fixer="\033[1;31m‚úñ"
reset="\033[0m"

echo "${warning} Validando commit...${reset}"

if npx --no -- commitlint --edit "$1" --quiet; then
  echo "${approved} Commit aprovado!${reset}"
else
  echo "${fixer} Commit inv√°lido! Abortando commit.${reset}"
  echo ""
  echo "Tipos v√°lidos: feat, fix, chore, docs, style, refactor, test, perf"
  echo "Formato: <tipo>(<escopo opcional>): <descri√ß√£o>"
  echo ""
  echo "Exemplos:"
  echo "  feat(auth): add OAuth authentication"
  echo "  fix(api): correct user creation endpoint"
  echo ""
  echo "üîó Doc: https://backstage.voeazul.com.br/docs/default/component/arq-techdocs/DiretrizesProjetos/DiretrizesDesenvolvimento/Repositorio_PullRequests_Deploy/repository/#2-gitflow"
  echo ""
  exit 1
fi
