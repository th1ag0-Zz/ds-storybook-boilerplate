import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="Guias/Como construir compound components?" />

# **Como construir compound components?**

## Estrutura de Diretórios

Primeiro, vamos criar a estrutura de diretórios necessária para o novo componente dentro de packages/react/src/components:

```
Accordion/
├── components/
│   ├── AccordionArrow/
│   │   ├── index.tsx
│   │   ├── types.ts
│   │   └── styles.ts
│   ├── AccordionContent/
│   │   ├── index.tsx
│   │   ├── types.ts
│   │   └── styles.ts
│   ├── AccordionItem/
│   │   ├── index.tsx
│   │   ├── types.ts
│   │   └── styles.ts
│   ├── AccordionRoot/
│   │   ├── index.tsx
│   │   ├── types.ts
│   │   └── styles.ts
│   ├── AccordionTitle/
│   │   ├── index.tsx
│   │   ├── types.ts
│   │   └── styles.ts
│   └── AccordionTrigger/
│       ├── index.tsx
│       ├── types.ts
│       └── styles.ts
│
├── context/
│   ├── index.ts
│   └── types.ts
│
├── stories/
│   ├── docs/
│   │   ├── props-types/
│   │   │   ├── components.ts
│   │   │   ├── index.ts
│   │   │   ├── props.ts
│   │   │   └── propsTable.tsx
│   │   └── Accordion.mdx
│   │
│   ├── templates/
│   │   ├── index.tsx
│   │   ├── mock.ts
│   │   └── index.stories.tsx
│   │
│   └── test/
│       ├── index.ts
│       └── index.tsx
│
└── index.tsx

```

{/* ![estrutura de pastas](attachment:3cb48070-5bce-4396-8c44-27af5a238bd0:image.png)

estrutura de pastas */}

## Passo a Passo

### **1. Criar o Arquivo Principal**

Crie o arquivo `index.tsx` na raiz do componente:

```jsx
import '../../styles/index.css';

import { MyComponentRoot } from './components/MyComponentRoot';
import { MyComponentSubComponent1 } from './components/MyComponentSubComponent1';
import { MyComponentSubComponent2 } from './components/MyComponentSubComponent2';

import type { IMyComponentRootProps } from './components/MyComponentRoot/types';
import type { IMyComponentSubComponent1Props } from './components/MyComponentSubComponent1/types';
import type { IMyComponentSubComponent2Props } from './components/MyComponentSubComponent2/types';

export type {
  IMyComponentRootProps,
  IMyComponentSubComponent1Props,
  IMyComponentSubComponent2Props,
};

export const MyComponent = {
  Root: MyComponentRoot,
  SubComponent1: MyComponentSubComponent1,
  SubComponent2: MyComponentSubComponent2,
};
```

### **2. Implementar os Subcomponentes**

Para cada **subcomponente**, crie os arquivos necessários:

**`MyComponentRoot/types.ts`:**

```jsx
import { ReactNode } from 'react';

interface IMyComponentRootProps {
  children: ReactNode;
}

export type { IMyComponentRootProps };
```

**`MyComponentRoot/index.tsx`:**

```jsx
import { IMyComponentRootProps } from './types';

export function MyComponentRoot({ children }: IMyComponentRootProps) {
  return (
    <div className="base-component-styles">
      {children}
    </div>
  );
}
```

### **3. Adicionar ao Arquivo de Exports**

Adicione o novo componente ao arquivo `packages/index.ts`:

```jsx
export const components = {
  accordion: 'components/Accordion',
  notification: 'components/Notification',
  mycomponent: 'components/MyComponent',// Novo componente
} as const;
```

### **4. Exportar no Arquivo Principal**

Adicione a exportação no arquivo `packages/accordion.tsx`:

```jsx
export { default } from '../components/Accordion';
export type {
  AccordionSingleProps,
  AccordionMultipleProps,
  IAccordionItemProps,
} from '../components/Accordion';

```

### **5. Build e Teste**

Após implementar o componente, execute:

```bash
npm run build
```

Agora você pode importar o componente de duas formas:

```jsx
// Importação completa
import { MyComponent } from '@react-web-components/react';

// Importação individual
import { MyComponent } from '@react-web-components/react/mycomponent';
```

## Observações Importantes

- 1 - Siga o padrão de nomenclatura existente no projeto
- 2 - Adicione testes para o novo componente
- 3 - Documente o componente no Storybook
- 4 - Mantenha a consistência com os outros componentes do Design System